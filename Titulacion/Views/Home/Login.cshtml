@{ Layout = null; }
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="~/css/site.css" />
    <title>Login</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">    
    <style>
        body {
          background-image: url(/img/Fondo.png);
          background-size: cover;
          backdrop-filter: blur(2px);
        }
        .container {
          opacity: 0.9;
        }
    </style>
  </head>
  <body>
      <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
          <a class="navbar-brand" asp-action="index">TutoriaExpress</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#mynavbar"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="mynavbar">
            <ul class="navbar-nav me-auto">
              <li class="nav-item">
                <a class="nav-link active" href="javascript:void(0)">Home</a>
              </li>
            </ul>
            <ul class="navbar-nav d-flex">
              <li class="nav-item">
                <a class="nav-link" asp-action="Register" asp-controller="Home"
                  ><i class="bi bi-person-fill"></i> Registrar</a>
              </li>
              <li>
                <span class="nav-link">|</span>
              </li>
              <li class="nav-item">
                <a class="nav-link" asp-action="Index" asp-controller="Landing"
                  ><i class="bi bi-box-arrow-in-right"></i> Regresar</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    <main>
      <section class="vh-100">
        <div class="container py-5 h-100">
          <div
            class="row d-flex justify-content-center align-items-center h-100"
          >
            <div class="col-12 col-md-8 col-lg-6 col-xl-5">
              <div class="card shadow-2-strong" style="border-radius: 1rem">
                <div class="card-body p-5">
                  <div class="text-center">
                    <img
                      src="~/img/usuario.png"
                      alt="Imagen Principal"
                      class="mb-4"
                      width="125px"
                      height="auto"
                    />
                  </div>
                  @if(@ViewBag.Bool){
                      <div class="alert alert-danger alert-dismissible fade show" role="alert">        
                          <i class="bi bi-exclamation-triangle-fill"></i>
                            @ViewBag.Error                                                
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                      </div>
                   }
                  <form
                    asp-action="Login"
                    asp-controller="Home"                                        
                    method="post"                    
                  >
                    <div class="mb-4">
                      <label
                        for="lblUser"
                        class="col-form-label col-form-label-lg"
                        >Usuario:</label
                      >
                      <input
                        type="text"
                        name="User"
                        id="lblUser"
                        class="form-control form-control-lg"
                        placeholder="Coloca tú usuario aquí"
                        required
                      />
                    </div>

                    <div class="mb-4">
                      <label
                        for="lblPass"
                        class="col-form-label col-form-label-lg"
                        >Contraseña:</label
                      >
                      <input
                        type="password"
                        name="Pass"
                        id="lblPass"
                        placeholder="Coloca tú contraseña aquí"
                        class="form-control form-control-lg"
                        required
                      />
                    </div>
                    <div class="text-center">
                      <div class="mb-4 mt-4">
                        <a asp-action="register" asp-controller="home"
                          >Click Aquí para registrarte</a>
                        <br />
                        <a style="cursor:pointer" class="link-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop" >Click aqui para recuperar contraseña</a>
                      </div>
                      
                      <button
                        class="btn-primary btn "
                        type="submit"                        
                      >
                        Iniciar Sesión
                      </button>
                    </div>
                  </form>

                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>    

<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Cambiar Contraseña</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <form asp-action="CambiarContraseña" asp-controller="Home" id="frmCambioContraseña">
            <div class="form-grop">
                <label class="col-form-label col-form-label-lg">Usuario:</label>
                <input name="User" class="form-control form-control-lg" type="text" />
            </div>
            <div class="form-grop">
                <label class="col-form-label col-form-label-lg">Contraseña:</label>
                <input name="Pass" id="pass1" class="form-control form-control-lg" type="password" />
            </div>
            <div class="form-grop">
                <label class="col-form-label col-form-label-lg">Repite Tu contraseña:</label>
                <input id="pass2" class="form-control form-control-lg" type="password" />
            </div>
          </form>
      </div>
      <div class="modal-footer">
        <button type="button"  class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        <button type="button" onclick="RecuperarContraseña()" class="btn btn-primary">Cambiar</button>
      </div>
    </div>
  </div>
</div>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script>
        function RecuperarContraseña(){
            var pass1 = document.getElementById("pass1").value;
            var pass2 = document.getElementById("pass2").value;
            console.log("Hola");
            if(pass1 == pass2){
                frmCambioContraseña.submit();
            }
        }
    </script>
  </body>
</html>
